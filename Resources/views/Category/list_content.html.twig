{% import 'IRCategoryBundle:Category:macros.html.twig' as macros %}

{% trans_default_domain 'ir_category' %}

<div class="page-header">
    <h1>
        {% if category %}
            {{ category }}
        {% else %}
            {{ 'category.list.title'|trans }}
        {% endif %}
    </h1>
</div>

<div class="well">
    <a href="{{ path('ir_category_new', {'parentId' : id}) }}" class="btn btn-primary">
        <i class="icon-plus icon-white"></i> 
        {{ 'category.list.button.new'|trans }}
    </a>
</div>

{{ macros.breadcrumb(path) }}

{% if categories|length %}
    <table class="table table-bordered">     
        <colgroup>
            <col style="width: 99%" />
            <col style="width: 1%" />
        </colgroup>            
        <thead>
            <tr>
                <th>{{ 'category.list.column.name'|trans }}</th>
                <th>{{ 'category.list.column.actions'|trans }}</th>
            </tr>
        </thead>
        <tbody>
        {% for category in categories %}
            <tr data-category="{{ category.id }}">
                <td>
                    <a href="{{ path('ir_category_list', {'id': category.id}) }}" class="btn btn-link">
                        <strong>{{ category.name }}</strong>
                    </a>
                </td>
                <td>
                    <div class="btn-group">
                        <a href="{{ path('ir_category_edit', {'id': category.id}) }}" class="btn">
                            <i class="icon-pencil"></i>
                        </a>                         
                        <a href="{{ path('ir_category_delete', {'id': category.id}) }}" class="btn btn-danger">
                            <i class="icon-trash icon-white"></i>
                        </a>
                    </div>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% else %}
    <div class="well">
        {{ 'category.list.no_categories'|trans }}
    </div>
{% endif %}